@using PersonalWebsite.Shared.Enums

@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@implements IDisposable

<MudToolBar>
    <MudTooltip Text="Help" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Outlined.Help" Color="Color.Primary" />
    </MudTooltip>
    <MudSpacer />
    <MudTooltip Text="@PlaySpeedTooltip" Placement="Placement.Top">
        <MudMenu Icon="@Icons.Material.Filled.Timer" OffsetY="true">
            <MudSlider Min="0" Max="4" Value="@PlaySpeedRaw" ValueChanged="(int e) => OnSpeedChanged(e)"></MudSlider>
        </MudMenu>
    </MudTooltip>
    <MudTooltip Text="Autoplay" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Filled.PlayArrow" Color="IsPlaying ? Color.Secondary : Color.Inherit" @onclick="Play" />
    </MudTooltip>
    <MudTooltip Text="Skip Frame" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Filled.SkipNext" @onclick="() => NextFrame(userClicked: true)" />
    </MudTooltip>
    <MudTooltip Text="Stop" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Filled.Stop" Color="IsPlaying ? Color.Inherit : Color.Tertiary" @onclick="Stop" />
    </MudTooltip>
    <MudSpacer />
    <MudTooltip Text="@GridSizeTooltip" Placement="Placement.Top">
        <MudMenu @ref="GridMenu" Icon="@Icons.Material.Filled.GridView" OffsetY="true" Disabled="IsPlaying">
            <MudSlider Min="0" Max="6" Value="@GridSizeRaw" ValueChanged="(int e) => OnGridSizeChanged(e)"></MudSlider>
        </MudMenu>
    </MudTooltip>
    <MudTooltip Text="Edge Wrap" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Filled.WrapText" Color="DoEdgeWrap ? Color.Secondary : Color.Tertiary" @onclick="ToggleWrapEdge" Disabled="IsPlaying" />
    </MudTooltip>
    <MudTooltip Text="Draw Type" Placement="Placement.Top">
        <MudMenu Icon="@Icons.Material.Filled.Colorize" OffsetY="true" Dense="true" Disabled="IsPlaying">
            <MudMenuItem OnClick="() => OnPenChanged(BoardCellType.Goal)">Living Cell</MudMenuItem>
            <MudMenuItem OnClick="() => OnPenChanged(BoardCellType.Normal)">Dead Cell</MudMenuItem>
            <MudMenuItem OnClick="() => OnPenChanged(BoardCellType.Empty)">Wall</MudMenuItem>
        </MudMenu>
        <div class="selected-cell type-@((int)CurrentPen)" hidden="@IsPlaying"></div>
    </MudTooltip>
    <MudTooltip Text="Pick Preset" Placement="Placement.Top">
        <MudMenu Icon="@Icons.Material.Filled.AssignmentReturned" OffsetY="true" Dense="true" Disabled="IsPlaying">
            <MudExpansionPanels>
                <MudExpansionPanel Text="Still Lifes">Content</MudExpansionPanel>
                <MudExpansionPanel Text="Oscillators">Content</MudExpansionPanel>
                <MudExpansionPanel Text="Spaceships">Content</MudExpansionPanel>
                <MudExpansionPanel Text="Infinite Growth">Content</MudExpansionPanel>
            </MudExpansionPanels>
        </MudMenu>
    </MudTooltip>
    <MudSpacer />
    <MudTooltip Text="Reset Grid" Placement="Placement.Top">
        <MudIconButton Icon="@Icons.Material.Outlined.GridOff" @onclick="ClearBoard" />
    </MudTooltip>
</MudToolBar>
